package client

import (
	"authing-go-sdk/dto"
	"encoding/json"
	"github.com/valyala/fasthttp"
)
{{!-- {{#if imports}}

{{/if}} --}}

{{#each operations}}
	{{#equals method "POST"}}
{{!--     {{console this}} --}}
	func (c *Client) {{{convertFirstCharToUpperCase name}}} (reqDto *dto.{{parametersBody.type}}) *dto.{{>result}}  {
        b, err := c.SendHttpRequest("{{{path}}}", fasthttp.MethodPost, reqDto)
        var response dto.{{>result}}
		if err != nil {
		    return nil
	    }
        json.Unmarshal(b, &response)
	    return &response
	}
    {{/equals}}
    {{#equals method "GET"}}
    func (c *Client) {{{convertFirstCharToUpperCase name}}} (reqDto *dto.{{parametersDto}}) *dto.{{>result}}  {
        b, err := c.SendHttpRequest("{{{path}}}", fasthttp.MethodGet, reqDto)
        var response dto.{{>result}}
		if err != nil {
		    return nil
	    }
        json.Unmarshal(b, &response)
	    return &response
    }
    {{/equals}}
	{{/each}}
